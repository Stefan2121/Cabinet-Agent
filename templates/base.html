<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Agenda Cabinet Stomatologic</title>
  <script src="/static/vendor/tailwind.js"></script>
  <script>
    if (!window.tailwind) {
      var s = document.createElement('script');
      s.src = 'https://cdn.tailwindcss.com';
      document.head.appendChild(s);
    }
  </script>
  <link rel="stylesheet" href="/static/css/styles.css" />
  <link href="/static/vendor/fullcalendar/index.global.min.css" rel="stylesheet" />
  <script>
    // CSS fallback for FullCalendar
    const testLink = document.createElement('link');
    testLink.rel = 'stylesheet';
    testLink.href = '/static/vendor/fullcalendar/index.global.min.css';
    testLink.onerror = function() {
      const cdnCss = document.createElement('link');
      cdnCss.rel = 'stylesheet';
      cdnCss.href = 'https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css';
      document.head.appendChild(cdnCss);
    };
    document.head.appendChild(testLink);
  </script>
</head>
<body class="bg-gray-50 text-gray-900">
  <nav class="bg-white border-b border-gray-200 sticky top-0 z-40">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <div class="flex items-center gap-6">
          <div class="font-semibold text-lg">Agenda Stoma</div>
          <a href="/calendar" class="text-gray-700 hover:text-blue-600">Calendar</a>
          <a href="/patients" class="text-gray-700 hover:text-blue-600">Pacien»õi</a>
          <a href="/doctors" class="text-gray-700 hover:text-blue-600">Medici</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="max-w-6xl mx-auto p-4">
    {% block content %}{% endblock %}
  </main>

  <script src="/static/vendor/fullcalendar/index.global.min.js"></script>
  <script>
    if (typeof FullCalendar === 'undefined') {
      var s1 = document.createElement('script');
      s1.src = 'https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js';
      document.body.appendChild(s1);
      var s2 = document.createElement('script');
      s2.src = 'https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/locales/ro.global.min.js';
      document.body.appendChild(s2);
    } else {
      var s2 = document.createElement('script');
      s2.src = '/static/vendor/fullcalendar/locales/ro.global.min.js';
      document.body.appendChild(s2);
    }
  </script>
  {% block scripts %}{% endblock %}
</body>
</html>