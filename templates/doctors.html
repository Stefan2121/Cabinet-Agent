{% extends "base.html" %}

{% block content %}
<div class="flex flex-col gap-6">
  <div class="bg-white rounded-lg shadow p-4">
    <h2 class="text-lg font-semibold mb-4">Administrare medici</h2>
    {% if error %}
      <div class="mb-4 p-3 rounded bg-red-50 text-red-700">{{ error }}</div>
    {% endif %}
    <form method="post" class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <label class="block text-sm mb-1">Nume medic</label>
        <input name="name" required class="w-full border rounded px-3 py-2" placeholder="Ex: Dr. Ionescu" />
      </div>
      <div>
        <label class="block text-sm mb-1">Email (opțional)</label>
        <input name="email" type="email" class="w-full border rounded px-3 py-2" placeholder="exemplu@mail.com" />
      </div>
      <div class="md:col-span-1 flex items-end">
        <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Adaugă medic</button>
      </div>
    </form>
  </div>

  <div class="bg-white rounded-lg shadow p-4">
    <h2 class="text-lg font-semibold mb-4">Lista medicilor</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full">
        <thead>
          <tr class="text-left text-sm text-gray-500">
            <th class="py-2">Nume</th>
            <th class="py-2">Email</th>
            <th class="py-2">Acțiuni</th>
          </tr>
        </thead>
        <tbody>
        {% for d in doctors %}
          <tr class="border-t">
            <td class="py-2">{{ d.name }}</td>
            <td class="py-2">{{ d.email or '—' }}</td>
            <td class="py-2">
              <form method="post" action="/doctors/{{ d.id }}/delete" onsubmit="return confirm('Ștergeți acest medic? Toate programările asociate vor fi șterse.');">
                <button class="text-red-600 hover:text-red-700">Șterge</button>
              </form>
            </td>
          </tr>
        {% else %}
          <tr><td class="py-6 text-center text-gray-500" colspan="3">Nu există medici încă.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}